# Lumen Product Requirements Document (PRD)

## Table of Contents

- [Lumen Product Requirements Document (PRD)](#table-of-contents)
  - [Change Log](./change-log.md)
  - [Table of Contents](./table-of-contents.md)
  - [1. Goals and Background Context](./1-goals-and-background-context.md)
    - [Goals](./1-goals-and-background-context.md#goals)
    - [Background Context](./1-goals-and-background-context.md#background-context)
  - [2. Requirements](./2-requirements.md)
    - [Functional Requirements](./2-requirements.md#functional-requirements)
    - [Non-Functional Requirements](./2-requirements.md#non-functional-requirements)
  - [3. User Interface Design Goals](./3-user-interface-design-goals.md)
    - [Overall UX Vision](./3-user-interface-design-goals.md#overall-ux-vision)
    - [Typography](./3-user-interface-design-goals.md#typography)
    - [Color System â€” "Observatory Palette"](./3-user-interface-design-goals.md#color-system-observatory-palette)
    - [Key Interaction Paradigms](./3-user-interface-design-goals.md#key-interaction-paradigms)
    - [Core Screens and Views](./3-user-interface-design-goals.md#core-screens-and-views)
    - [Signature Element: The Comparison Ribbon](./3-user-interface-design-goals.md#signature-element-the-comparison-ribbon)
    - [Motion & Micro-interactions](./3-user-interface-design-goals.md#motion-micro-interactions)
    - [Accessibility](./3-user-interface-design-goals.md#accessibility)
    - [Target Platform](./3-user-interface-design-goals.md#target-platform)
  - [4. Technical Assumptions](./4-technical-assumptions.md)
    - [Repository Structure](./4-technical-assumptions.md#repository-structure)
    - [Service Architecture](./4-technical-assumptions.md#service-architecture)
    - [Testing Requirements](./4-technical-assumptions.md#testing-requirements)
    - [Additional Technical Assumptions](./4-technical-assumptions.md#additional-technical-assumptions)
  - [5. Epic Overview](./5-epic-overview.md)
    - [Epic Flow](./5-epic-overview.md#epic-flow)
  - [6. Epic 1: Foundation & Data Pipeline](./6-epic-1-foundation-data-pipeline.md)
    - [Epic Goal](./6-epic-1-foundation-data-pipeline.md#epic-goal)
    - [Stories](./6-epic-1-foundation-data-pipeline.md#stories)
      - [Story 1.1: Project Scaffolding](./6-epic-1-foundation-data-pipeline.md#story-11-project-scaffolding)
      - [Story 1.2: Themed Application Shell](./6-epic-1-foundation-data-pipeline.md#story-12-themed-application-shell)
      - [Story 1.3: File Selection & Data Loading](./6-epic-1-foundation-data-pipeline.md#story-13-file-selection-data-loading)
      - [Story 1.4: Column Configuration Panel](./6-epic-1-foundation-data-pipeline.md#story-14-column-configuration-panel)
      - [Story 1.5: First Trigger Baseline](./6-epic-1-foundation-data-pipeline.md#story-15-first-trigger-baseline)
      - [Story 1.6: Core Metrics Calculation & Display](./6-epic-1-foundation-data-pipeline.md#story-16-core-metrics-calculation-display)
      - [Story 1.7: Parquet Caching](./6-epic-1-foundation-data-pipeline.md#story-17-parquet-caching)
    - [Epic 1 Definition of Done](./6-epic-1-foundation-data-pipeline.md#epic-1-definition-of-done)
  - [7. Epic 2: Feature Explorer & Filtering](./7-epic-2-feature-explorer-filtering.md)
    - [Epic Goal](./7-epic-2-feature-explorer-filtering.md#epic-goal)
    - [Stories](./7-epic-2-feature-explorer-filtering.md#stories)
      - [Story 2.1: Feature Explorer Layout & Basic Chart](./7-epic-2-feature-explorer-filtering.md#story-21-feature-explorer-layout-basic-chart)
      - [Story 2.2: Bounds Filtering](./7-epic-2-feature-explorer-filtering.md#story-22-bounds-filtering)
      - [Story 2.3: First-Trigger Toggle](./7-epic-2-feature-explorer-filtering.md#story-23-first-trigger-toggle)
      - [Story 2.4: Filtered Data Export (Validation Checkpoint)](./7-epic-2-feature-explorer-filtering.md#story-24-filtered-data-export-validation-checkpoint)
      - [Story 2.5: Multi-Filter Logic & Date Range](./7-epic-2-feature-explorer-filtering.md#story-25-multi-filter-logic-date-range)
      - [Story 2.6: Interactive Chart Controls](./7-epic-2-feature-explorer-filtering.md#story-26-interactive-chart-controls)
    - [Epic 2 Definition of Done](./7-epic-2-feature-explorer-filtering.md#epic-2-definition-of-done)
  - [8. Epic 3: Metrics Engine](./8-epic-3-metrics-engine.md)
    - [Epic Goal](./8-epic-3-metrics-engine.md#epic-goal)
    - [Stories](./8-epic-3-metrics-engine.md#stories)
      - [Story 3.1: PnL Stats Tab Layout & User Inputs Panel](./8-epic-3-metrics-engine.md#story-31-pnl-stats-tab-layout-user-inputs-panel)
      - [Story 3.2: Core Statistics & Distribution Data (Metrics 1-12, 24-25 prep)](./8-epic-3-metrics-engine.md#story-32-core-statistics-distribution-data-metrics-1-12-24-25-prep)
      - [Story 3.3: Streak & Loss Metrics (13-15)](./8-epic-3-metrics-engine.md#story-33-streak-loss-metrics-13-15)
      - [Story 3.4: Flat Stake Metrics (16-19)](./8-epic-3-metrics-engine.md#story-34-flat-stake-metrics-16-19)
      - [Story 3.5: Compounded Kelly Metrics (20-23)](./8-epic-3-metrics-engine.md#story-35-compounded-kelly-metrics-20-23)
      - [Story 3.6: Distribution Statistics Display (24-25)](./8-epic-3-metrics-engine.md#story-36-distribution-statistics-display-24-25)
    - [Epic 3 Definition of Done](./8-epic-3-metrics-engine.md#epic-3-definition-of-done)
  - [9. Epic 4: Comparison & Export](./9-epic-4-comparison-export.md)
    - [Epic Goal](./9-epic-4-comparison-export.md#epic-goal)
    - [Stories](./9-epic-4-comparison-export.md#stories)
      - [Story 4.1: Filtered Metrics Calculation](./9-epic-4-comparison-export.md#story-41-filtered-metrics-calculation)
      - [Story 4.2: Comparison Ribbon (Validation Checkpoint)](./9-epic-4-comparison-export.md#story-42-comparison-ribbon-validation-checkpoint)
      - [Story 4.3: Baseline vs Filtered Metrics Grid](./9-epic-4-comparison-export.md#story-43-baseline-vs-filtered-metrics-grid)
      - [Story 4.4: PnL Equity Charts](./9-epic-4-comparison-export.md#story-44-pnl-equity-charts)
      - [Story 4.5: Distribution Histograms](./9-epic-4-comparison-export.md#story-45-distribution-histograms)
      - [Story 4.6: Full Export Functionality](./9-epic-4-comparison-export.md#story-46-full-export-functionality)
    - [Epic 4 Definition of Done](./9-epic-4-comparison-export.md#epic-4-definition-of-done)
  - [10. Checklist Results](./10-checklist-results.md)
    - [Category Analysis](./10-checklist-results.md#category-analysis)
    - [Summary Metrics](./10-checklist-results.md#summary-metrics)
    - [Recommendations](./10-checklist-results.md#recommendations)
  - [11. Next Steps](./11-next-steps.md)
    - [UX Expert Prompt](./11-next-steps.md#ux-expert-prompt)
    - [Architect Prompt](./11-next-steps.md#architect-prompt)
  - [Appendix: Story Summary](./appendix-story-summary.md)
