# Risk Profile: Story 1.1

Date: 2026-01-09
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 6
- Critical Risks: 0
- High Risks: 0
- Medium Risks: 1
- Low Risks: 4
- Minimal Risks: 1
- Risk Score: 87/100 (Low Risk)

## Risk Assessment

Story 1.1 (Project Scaffolding) is a foundational setup story with inherently low risk. The primary concerns relate to tooling configuration and platform compatibility, all of which are easily detectable and correctable during development.

## Risk Matrix

| Risk ID  | Description                           | Probability | Impact     | Score | Priority |
|----------|---------------------------------------|-------------|------------|-------|----------|
| TECH-001 | Dependency version conflicts          | Medium (2)  | Medium (2) | 4     | Medium   |
| TECH-002 | Platform compatibility (Windows)      | Low (1)     | Medium (2) | 2     | Low      |
| TECH-003 | Tooling configuration conflicts       | Medium (2)  | Low (1)    | 2     | Low      |
| OPS-001  | Makefile portability on Windows       | Medium (2)  | Low (1)    | 2     | Low      |
| BUS-001  | Foundation insufficient for future    | Low (1)     | Medium (2) | 2     | Low      |
| SEC-001  | Gitignore incomplete                  | Low (1)     | Low (1)    | 1     | Minimal  |

## Detailed Risk Analysis

### TECH-001: Dependency Version Conflicts

**Score: 4 (Medium)**

**Probability**: Medium - Modern Python packages generally maintain compatibility, but the combination of PyQt6, pandas, pyarrow, and pyqtgraph could have transitive dependency conflicts. The numpy version requirements across these packages is the most likely conflict point.

**Impact**: Medium - Would block development until resolved, requiring version pinning or package substitution.

**Mitigation**:
- Use `uv sync` to validate all dependencies resolve correctly
- Lock file (`uv.lock`) ensures reproducible installs
- Test imports immediately after installation
- Document any version pins with rationale

**Testing Focus**: Import tests for all core dependencies (AC3)

---

### TECH-002: Platform Compatibility Issues (Windows)

**Score: 2 (Low)**

**Probability**: Low - PyQt6 is well-tested on Windows with official wheels available. However, some PyQt6 features may behave differently.

**Impact**: Medium - Would require platform-specific troubleshooting and potentially affect development experience.

**Mitigation**:
- Test application launch on target Windows version
- Use forward slashes or `pathlib.Path` for path handling
- Document any Windows-specific setup requirements

**Testing Focus**: E2E application launch test (AC5)

---

### TECH-003: Tooling Configuration Conflicts

**Score: 2 (Low)**

**Probability**: Medium - Using multiple linters (black, ruff, isort) can lead to conflicting rules or formatting wars.

**Impact**: Low - Easy to fix but can cause CI failures and developer friction.

**Mitigation**:
- Ensure isort uses `profile = "black"` for compatibility
- Verify ruff rules don't conflict with black
- Run all tools in sequence during setup verification

**Testing Focus**: Run `make lint`, `make format`, `make typecheck` (AC5)

---

### OPS-001: Makefile Portability on Windows

**Score: 2 (Low)**

**Probability**: Medium - Windows doesn't include `make` by default. Developers would need to install make via chocolatey, scoop, or WSL.

**Impact**: Low - Can use `uv run` commands directly; Makefile is a convenience.

**Mitigation**:
- Document alternative command execution without make
- Consider adding PowerShell script alternatives
- Document make installation options for Windows

**Testing Focus**: Verify core commands work both via Makefile and direct execution

---

### BUS-001: Foundation Insufficient for Future Requirements

**Score: 2 (Low)**

**Probability**: Low - Architecture documents are comprehensive and the structure follows established patterns.

**Impact**: Medium - Would require refactoring if structure needs significant changes.

**Mitigation**:
- Follow architecture documentation precisely
- Verify structure matches `architecture/2-high-level-architecture.md`
- Create all placeholder directories even if unused initially

**Testing Focus**: Directory structure validation (AC2)

---

### SEC-001: Gitignore Incomplete

**Score: 1 (Minimal)**

**Probability**: Low - Standard Python gitignore patterns are well documented.

**Impact**: Low - Can be corrected easily if discovered; no sensitive data expected in scaffolding phase.

**Mitigation**:
- Base on GitHub's Python gitignore template
- Add project-specific entries (.lumen_cache/)
- Review before first commit

**Testing Focus**: Verify gitignore entries (AC7)

---

## Risk Distribution

### By Category
- Technical: 3 risks (0 critical, 1 medium)
- Security: 1 risk (0 critical)
- Operational: 1 risk (0 critical)
- Business: 1 risk (0 critical)
- Performance: 0 risks
- Data: 0 risks

### By Component
- Build/Tooling: 4 risks
- Application: 1 risk
- Infrastructure: 1 risk

## Risk-Based Testing Strategy

### Priority 1: Medium Risk Tests
- Dependency import tests (TECH-001)
- Application execution test (TECH-002)

### Priority 2: Low Risk Tests
- Tooling command execution (TECH-003)
- Directory structure validation (BUS-001)
- Makefile command tests (OPS-001)

### Priority 3: Minimal Risk Tests
- Gitignore validation (SEC-001)

## Risk Acceptance Criteria

### Must Fix Before Merge
- All dependency import errors (TECH-001)
- Application fails to launch (TECH-002)

### Can Deploy with Mitigation
- Tooling conflicts with documented workarounds (TECH-003)
- Makefile issues with documented alternatives (OPS-001)

### Accepted Risks
- Minor gitignore gaps can be fixed incrementally (SEC-001)

## Monitoring Requirements

Post-scaffolding monitoring:
- CI pipeline success rate for dependency installation
- Developer setup time and friction points
- Any platform-specific issues reported

## Risk Review Triggers

Review and update risk profile when:
- New dependencies are added
- CI pipeline is configured
- Additional developers onboard
- Platform support requirements change
